function initMenu() { var e = $(".js-dropdown-menu--open"), t = $(".dropdown-menu"); e.click(function (e) { e.preventDefault(), $(this).toggleClass("no-bg"), $("#nav-icon2").toggleClass("open"), t.toggleClass("dropdown-menu__active") }) } function initMobileContent() { var e = $(window), t = $(".section--wrapper"); e.resize(function () { e.width() < 1024 ? t.each(function () { var e = $(this), t = e.children(".section--row--float"), o = e.children(".section--row--static"), i = t.height(), n = o.height(); t.hasClass("is-closed") ? e.css("max-style", n) : e.css("max-height", i) }) : t.removeAttr("style") }).resize() } function campaignController() { var e = $(window), t = $(".campaign-controller .section--row .arrow-circle"), o = $(".campaign-header"), i = $(".section--home__figure__projects"), n = o.parent(), a = o.height(), s = i.height(); return t.toggleClass("is-opened"), o.toggleClass("is-closed"), i.toggleClass("is-opened"), o.hasClass("is-closed") ? e.width() < 1024 ? n.css("max-height", s) : n.removeAttr("style") : (o.addClass("hidden"), setTimeout(function () { o.removeClass("hidden") }, 0), e.width() < 1024 ? n.css("max-height", a) : n.removeAttr("style")), i.is(".is-opened") ? seeDetailsLv++ : seeDetailsLv-- , changeRedBallBg(), !1 } function brandsController() { var e = $(window), t = $(".brands-controller .section--row .arrow-circle"), o = $(".brands-header"), i = $(".section--home__figure__brands"), n = o.parent(), a = o.height(), s = i.height(); return t.toggleClass("is-opened"), o.toggleClass("is-closed"), i.toggleClass("is-opened"), o.hasClass("is-closed") ? e.width() < 1024 ? n.css("max-height", s) : n.removeAttr("style") : (o.addClass("hidden"), setTimeout(function () { o.removeClass("hidden") }, 0), e.width() < 1024 ? n.css("max-height", a) : n.removeAttr("style")), i.is(".is-opened") ? seeDetailsLv++ : seeDetailsLv-- , changeRedBallBg(), !1 } function awardsController() { var e = $(window), t = $(".awards-controller .section--row .arrow-circle"), o = $(".awards-header"), i = $(".section--home__figure__awards"), n = o.parent(), a = o.height(), s = i.height(); return t.toggleClass("is-opened"), o.toggleClass("is-closed"), i.toggleClass("is-opened"), o.hasClass("is-closed") ? e.width() < 1024 ? n.css("max-height", s) : n.removeAttr("style") : (o.addClass("hidden"), setTimeout(function () { o.removeClass("hidden") }, 0), e.width() < 1024 ? n.css("max-height", a) : n.removeAttr("style")), i.is(".is-opened") ? seeDetailsLv++ : seeDetailsLv-- , changeRedBallBg(), !1 } function changeRedBallBg() { seeDetailsLv <= 0 ? (seeDetailsLv = 0, $(".home-container__bg").removeClass("activated")) : $(".home-container__bg").addClass("activated") } function showProcessLoader() { var e = !1; Pace.on("update", function (e) { }), $(".loading-percent").animate({ Counter: 99 }, { duration: 3e3, easing: "easeOutQuart", step: function (e) { $(this).text(Math.ceil(e)) }, complete: function () { e = !1 } }), Pace.on("done", function () { $(".loading-percent").length > 0 ? $(".loading-percent").animate({ Counter: 100 }, { duration: 500, easing: "swing", step: function (e) { $(this).text(Math.ceil(e)) }, complete: function () { $(".loading-percent").html(""), $(".loading-logo").show(), setTimeout(function () { $(".loader-copy").fadeOut(), $(".loading-logo").addClass("loading-logo-scale") }, 500), setTimeout(function () { $(".loader").fadeOut(); var e = document.getElementById("video--bg"); e && e.play(), initAnimation($(".animate-obj")), $(".hero--logo").addClass("hero--logo__animate"), setTimeout(function () { var e = ($(".hero--logo__animate").width(), $(".hero--logo__animate").height()); $(".hero--logo--full, .hero--logo--full-2").css({ height: e }), setTimeout(function () { $(".hero--logo--full, .hero--logo--full-2").addClass("animate") }, 500) }, 2e3) }, 1200) } }) : $(".loader").fadeOut() }), Pace.on("hide", function () { }) } function smoothScroll() { $("a").on("click", function (e) { if ("" !== this.hash) { e.preventDefault(); var t = this.hash; $("html, body").animate({ scrollTop: $(t).offset().top }, 600, function () { window.location.hash = t }) } }) } function initLeftNav() { $("section").each(function (e, t) { var o, i, n = t, a = n.id, s = $(window); "" != a && (o = s.height() / 2, i = $("#" + a).offset().top - o, sections.push({ sectionId: a, position: i })) }), sections.length > 0 && (nextSectionPosition = Math.floor(sections[0].position), scrollListener()) } function scrollListener() { var e = 0; $(document).on("scroll", function () { var t = $(this).scrollTop(); if (t > e) { var o = sections[nextSectionIndex].sectionId; t >= nextSectionPosition && (updateLeftNav(o), nextSectionIndex = nextSectionIndex + 1 >= sections.length ? nextSectionIndex : nextSectionIndex + 1, nextSectionPosition = sections[nextSectionIndex].position) } else if (nextSectionIndex > 0) { var i = sections[nextSectionIndex - 1].sectionId; t <= nextSectionPosition && (updateLeftNav(i), nextSectionIndex = nextSectionIndex - 1 <= 0 ? 0 : nextSectionIndex - 1, nextSectionPosition = sections[nextSectionIndex].position) } if (e = t, $(window).width() >= 1024) { var n = t - 2500; $(".home-container__bg").css({ "background-position": "center calc(0% + " + .6 * -n + "px)" }) } var a = $(".left-nav"), s = $("#video--bg").length ? $("#video--bg").height() : 0, l = $("footer").offset().top, r = $(window).scrollTop(), d = r + $(window).height(); r <= s || d >= l ? a.removeClass("up down") : a.addClass(currentNavClass) }) } function updateLeftNav(e) { if (sections.length) { e = e.replace("#", ""); var t = $(".left-nav"), o = ($(".section--home--side--text"), $("#" + e).data("name")), i = $(".js-left-menu"), n = $(".js-right-menu"); currentSectionName !== o && ("down" === currentNavClass ? (currentNavClass = "up", i.html(o)) : (currentNavClass = "down", n.html(o)), t.removeClass("up down"), t.addClass(currentNavClass)), currentSectionName = o, activeCounter(e), initAnimation($("#" + e + " .animate-obj-part")) } } function activeCounter(e) { animating || $("#" + e + " .count").each(function () { animating = !0, "" == $(this).html() && $(this).prop("Counter", 0).animate({ Counter: $(this).data("number") }, { duration: 1e3, easing: "swing", step: function (e) { $(this).text(Math.ceil(e)) }, complete: function () { animating = !1, $("#" + e + " .scale").addClass("animate") } }) }) } function initAnimation(e) { $(e).each(function () { var e = $(this), t = e.data("anim"); e.addClass(t) }) } function dotNavAnimation(e) { for (var t = $(this).data("pos"), o = $(".dot-nav").length, i = $("#our-value .section--about__values--red-circle"), n = t + 1; n <= o; n++)$(".dot-nav-" + n).removeClass("dot-nav__active"), $(".b-line-" + (n - 1)).removeClass("b-line__red").addClass("b-line__gray"); for (var n = 1; n <= t; n++)$(".dot-nav-" + n).addClass("dot-nav__active"), $(".b-line-" + (n - 1)).removeClass("b-line__gray").addClass("b-line__red"); $(".value-slider").each(function () { var e = $(this).data("anim"); $(this).addClass("value-slider__hidden"), $(this).removeClass(e) }), i.attr("class", "section--about__values--red-circle current-slider-" + t), $(".value-slider-" + t).removeClass("value-slider__hidden"); var a = $(".value-slider-" + t).data("anim"); $(".value-slider-" + t).addClass(a) } function arrowNavAnimation() { var e = $(".brands--nav__prev"), t = $(".brands--nav__next"), o = $(".current-value"), i = $("#our-value .section--about__values--red-circle"), n = parseInt($(".current-value").html()), a = parseInt($(".total-value").html()); t.click(function () { if (n < a) { n++ , o.html("0" + n), $(".value-slider").each(function () { var e = $(this).data("anim"); $(this).addClass("value-slider__hidden"), $(this).removeClass(e) }), $(".value-slider-" + n).removeClass("value-slider__hidden"); var e = $(".value-slider-" + n).data("anim"); $(".value-slider-" + n).addClass(e) } i.attr("class", "section--about__values--red-circle current-slider-" + n) }), e.click(function () { if (n > 1) { n-- , o.html("0" + n), $(".value-slider").each(function () { var e = $(this).data("anim"); $(this).addClass("value-slider__hidden"), $(this).removeClass(e) }), $(".value-slider-" + n).removeClass("value-slider__hidden"); var e = $(".value-slider-" + n).data("anim"); $(".value-slider-" + n).addClass(e) } i.attr("class", "section--about__values--red-circle current-slider-" + n) }) } function initPortfolioPage() { var e = $(".js-nav"), t = $("#our-projects"), o = $(".js-portfolio-container"), i = $(".js-item"), n = $(".js-project"), a = $(i[0]), s = a.data("name"); n.html(s), t.fullpage({ onLeave: function (t, a, s) { var l = $(i[a - 1]), r = l.data("name"), d = l.data("dark"); i.removeClass("is-active"), l.addClass("is-active"), n.html(r), d ? e.addClass("is-dark") : e.removeClass("is-dark"), o.slick("slickGoTo", a - 1) } }), o.slick({ fade: !0, arrows: !1, draggable: !1, swipe: !1, touchMove: !1 }), i.click(function () { var e = $(this), t = e.data("index"); $.fn.fullpage.moveTo(t) }) } function initPopup() { var e, t, o, i, n, a = $(".js-video"), s = $(".js-video-popup"), l = ($(".js-video-close"), $("#js-video-content-yt")), r = $("#js-video-content-vimeo"), d = this; d.elements; a.click(function (n) { n.preventDefault(); var a = $(this), d = a.data("id"), c = a.data("host"); if ("youtube" == c) if (o = "youtube", i = l.data("id"), r.addClass("is-video-hidden"), l.removeClass("is-video-hidden"), d !== i) if (l.data("id", d), e) e.loadVideoById(d); else { var u = '<iframe id="video" width="100%" height="100%" src="https://www.youtube.com/embed/' + d + '?enablejsapi=1&version=3&autoplay=1&modestbranding=1&autohide=1&showinfo=0&rel=0" frameborder="0" allowfullscreen></iframe>'; l.html(u), e = new YT.Player("video") } else e.playVideo(); "vimeo" == c && (o = "vimeo", r.data("id"), l.addClass("is-video-hidden"), r.removeClass("is-video-hidden"), d !== i ? (r.data("id", d), t ? t.play() : (options = { url: "https://vimeo.com/" + d, autoplay: !0, width: 900, height: 506 }, t = new Vimeo.Player("js-video-content-vimeo", options), t.ready().then(function () { var e = $("#js-video-content-vimeo iframe"); e[0].setAttribute("width", "100%"), e[0].setAttribute("height", "100%") }))) : t.play()), $("html").addClass("body__no-overflow"), s.addClass("is-visible") }), n = function (i) { $(i.target).hasClass("js-video-content") || (s.removeClass("is-visible"), e && "youtube" == o && e.pauseVideo(), t && "vimeo" == o && t.pause(), $("html").removeClass("body__no-overflow")) }, s.click(function (e) { n(e) }), $(document).keyup(function (e) { 27 === e.keyCode && n(e) }) } showProcessLoader(); var sections = [], nextSectionIndex = 0, nextSectionPosition = "", currentSectionName = "", currentNavClass = "up", seeDetailsLv = 0; jQuery(document).ready(function (e) { initMenu(), e("footer").load("footer.html"), e(this).scrollTop(0), initMobileContent(), smoothScroll(), initLeftNav(); var t = e(".awards-controller .section--row a"), o = e(".brands-controller .section--row a"), i = e(".campaign-controller .section--row a"), n = e(".dot-nav"); t.on("click", awardsController), o.on("click", brandsController), i.on("click", campaignController), n.on("click", dotNavAnimation), arrowNavAnimation(), initPopup(), e(document).on("click", "a.rfu-btn, a.btn", function () { var t = e(this).attr("href"); return e(this).toggleClass("active"), setTimeout(function () { e("body").fadeOut() }, 500), setTimeout(function () { window.location = t }, 900), !1 }) }); var animating = !1;